<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><title>How to Restart Kubernetes Pods With Kubectl - VBlogX</title><meta name=description content="Kubernetes Pods should operate without intervention but sometimes you might hit a problem where a container's not working the way it should. Restarting the Pod can help restore operations to normal. Kubectl doesn't have a direct way of restarting individual Pods. Pods are meant to stay running until they're replaced as part of your deployment"><meta name=author content="Some Person"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"VBlogX","url":"\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"\/how-to-restart-kubernetes-pods-with-kubectl.html","name":"How to restart kubernetes pods with kubectl"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Larita Shotwell"},"headline":"How to Restart Kubernetes Pods With Kubectl","description":"Kubernetes Pods should operate without intervention but sometimes you might hit a problem where a container\u0027s not working the way it should. Restarting the Pod can help restore operations to normal. Kubectl doesn\u0027t have a direct way of restarting individual Pods. Pods are meant to stay running until they\u0027re replaced as part of your deployment","inLanguage":"en","wordCount":907,"datePublished":"2024-04-15T00:00:00","dateModified":"2024-04-15T00:00:00","image":"\/img\/avatar-icon.png","keywords":[""],"mainEntityOfPage":"\/how-to-restart-kubernetes-pods-with-kubectl.html","publisher":{"@type":"Organization","name":"\/","logo":{"@type":"ImageObject","url":"\/img\/avatar-icon.png","height":60,"width":60}}}</script><meta property="og:title" content="How to Restart Kubernetes Pods With Kubectl"><meta property="og:description" content="Kubernetes Pods should operate without intervention but sometimes you might hit a problem where a container's not working the way it should. Restarting the Pod can help restore operations to normal. Kubectl doesn't have a direct way of restarting individual Pods. Pods are meant to stay running until they're replaced as part of your deployment"><meta property="og:image" content="/img/avatar-icon.png"><meta property="og:url" content="/how-to-restart-kubernetes-pods-with-kubectl.html"><meta property="og:type" content="website"><meta property="og:site_name" content="VBlogX"><meta name=twitter:title content="How to Restart Kubernetes Pods With Kubectl"><meta name=twitter:description content="Kubernetes Pods should operate without intervention but sometimes you might hit a problem where a container's not working the way it should. Restarting the Pod can help restore operations to normal. â€¦"><meta name=twitter:image content="/img/avatar-icon.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@username"><meta name=twitter:creator content="@username"><link href=./img/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.98.0"><link rel=alternate href=./index.xml type=application/rss+xml title=VBlogX><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/highlight.min.css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>How to Restart Kubernetes Pods With Kubectl</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on April 15, 2024
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;5&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;907&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Larita Shotwell</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><h3>Quick Links</h3><ul class=table-content-level-1><li><a href=#>Scaling the Replica Count</a></li></ul><ul class=table-content-level-1><li><a href=#>Downtimeless Restarts With Rollouts</a></li></ul><ul class=table-content-level-1><li><a href=#>(Ab)using ReplicaSet Monitoring</a></li></ul><ul class=table-content-level-1><li><a href=#>Changing Pod Annotations</a></li></ul><ul class=table-content-level-1><li><a href=#>Conclusion</a></li></ul><p>Kubernetes Pods should operate without intervention but sometimes you might hit a problem where a container's not working the way it should. Restarting the Pod can help restore operations to normal.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Kubectl doesn't have a direct way of restarting individual Pods. Pods are meant to stay running until they're replaced as part of your deployment routine. This is usually when you release a new version of your container image.</p><p>Here are a few techniques you can use when you want to restart Pods without building a new image or running your CI pipeline. They can help when you think a fresh set of containers will get your workload running again.</p><h2 id=scaling-the-replica-count>Scaling the Replica Count</h2><p>Although there's no</p><pre><code class=hljs>kubectl restart</code> </pre><p>, you can achieve something similar by scaling the number of container replicas you're running. This works when your Pod is part of a Deployment, StatefulSet, ReplicaSet, or Replication Controller.</p><pre>kubectl scale deployment my-deployment --replicas=0  <p>kubectl scale deployment my-deployment --replicas=3</p></pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Scaling your Deployment down to <code>0</code> will remove all your existing Pods. Wait until the Pods have been terminated, using <code>kubectl get pods</code> to check their status, then rescale the Deployment back to your intended replica count. Kubernetes will create new Pods with fresh container instances.</p><h2 id=downtimeless-restarts-with-rollouts>Downtimeless Restarts With Rollouts</h2><p>Manual replica count adjustment comes with a limitation: scaling down to <code>0</code> will create a period of downtime where there's no Pods available to serve your users. An alternative option is to initiate a rolling restart which lets you replace a set of Pods without downtime. It's available with Kubernetes v1.15 and later.</p><pre>kubectl rollout restart deployment my-deployment</pre><p>When you run this command, Kubernetes will gradually terminate and replace your Pods while ensuring some containers stay operational throughout. The rollout's phased nature lets you keep serving customers while effectively "restarting" your Pods behind the scenes.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/csit/2021/10/56e27762.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>After the rollout completes, you'll have the same number of replicas as before but each container will be a fresh instance. You can check the status of the rollout by using <code>kubectl get pods</code> to list Pods and watch as they get replaced. There's also <code>kubectl rollout status deployment/my-deployment</code> which shows the current progress too.</p><p><code>kubectl rollout</code> works with Deployments, DaemonSets, and StatefulSets. Most of the time this should be your go-to option when you want to terminate your containers and immediately start new ones.</p><h2 id=ab-using-replicaset-monitoring>(Ab)using ReplicaSet Monitoring</h2><p>When your Pod's part of a ReplicaSet or Deployment, you can initiate a replacement by simply deleting it. The ReplicaSet will notice the Pod has vanished as the number of container instances will drop below the target replica count.</p><pre>kubectl delete pod my-pod</pre><p>The ReplicaSet will intervene to restore the minimum availability level. It'll automatically create a new Pod, starting a fresh container to replace the old one.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>This is technically a side-effect - it's better to use the <code>scale</code> or <code>rollout</code> commands which are more explicit and designed for this use case. Nonetheless manual deletions can be a useful technique if you know the identity of a single misbehaving Pod inside a ReplicaSet or Deployment. A rollout would replace all the managed Pods, not just the one presenting a fault.</p><p>You can expand upon the technique to replace all failed Pods using a single command:</p><pre>kubectl delete pods --field-selector=status.phase=Failed</pre><p>Any Pods in the <code>Failed</code> state will be terminated and removed. The replication controller will notice the discrepancy and add new Pods to move the state back to the configured replica count. If you're confident the old Pods failed due to a transient error, the new ones should stay running in a healthy state.</p><h2 id=changing-pod-annotations>Changing Pod Annotations</h2><p>Another way of forcing a Pod to be replaced is to add or modify an <a href=#>annotation</a>. Kubernetes will replace the Pod to apply the change.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You can use the <code>kubectl annotate</code> command to apply an annotation:</p><pre>kubectl annotate pods my-pod app-version="2" --overwrite</pre><p>This command updates the <code>app-version</code> annotation on <code>my-pod</code>. The <code>--overwrite</code> flag instructs Kubectl to apply the change even if the annotation already exists. Without it you can only add new annotations as a safety measure to prevent unintentional changes.</p><p>Updating a deployment's environment variables has a similar effect to changing annotations. This is ideal when you're already exposing an app version number, build ID, or deploy date in your environment.</p><pre>kubectl set env deployment my-deployment APP_VERSION="2"</pre><h2 id=conclusion>Conclusion</h2><p>Kubernetes Pods should usually run until they're replaced by a new deployment. As a result, there's no direct way to "restart" a single Pod. If one of your containers experiences an issue, aim to replace it instead of restarting. The subtle change in terminology better matches the stateless operating model of Kubernetes Pods.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Scale your replica count, initiate a rollout, or manually delete Pods from a ReplicaSet to terminate old containers and start fresh new instances. Rollouts are the preferred solution for modern Kubernetes releases but the other approaches work too and can be more suited to specific scenarios.</p><p>Foremost in your mind should be these two questions: do you want all the Pods in your Deployment or ReplicaSet to be replaced, and is any downtime acceptable? Manual Pod deletions can be ideal if you want to "restart" an individual Pod without downtime, provided you're running more than one replica, whereas <code>scale</code> is an option when the <code>rollout</code> command can't be used and you're not concerned about a brief period of unavailability.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7qbvWraagnZWge6S7zGibnq6fpcBwtM6wZK2nXaeytMDAq6tmo6WXsrO6xK2crGWgpLG0edaiq6Flm6qvpq%2FTpWY%3D</p><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=%2fhow-to-restart-kubernetes-pods-with-kubectl.html&text=How%20to%20Restart%20Kubernetes%20Pods%20With%20Kubectl&via=username" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=%2fhow-to-restart-kubernetes-pods-with-kubectl.html" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=%2fhow-to-restart-kubernetes-pods-with-kubectl.html&title=How%20to%20Restart%20Kubernetes%20Pods%20With%20Kubectl" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=%2fhow-to-restart-kubernetes-pods-with-kubectl.html&title=How%20to%20Restart%20Kubernetes%20Pods%20With%20Kubectl" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=%2fhow-to-restart-kubernetes-pods-with-kubectl.html&title=How%20to%20Restart%20Kubernetes%20Pods%20With%20Kubectl" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=%2fhow-to-restart-kubernetes-pods-with-kubectl.html&description=How%20to%20Restart%20Kubernetes%20Pods%20With%20Kubectl" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=./emmy-griffiths.html data-toggle=tooltip data-placement=top title="Emmy Griffiths, TV &amp;amp; Film Editor - HELLO!">&larr; Previous Post</a></li><li class=next><a href=./halia-beamer-bio-net-worth.html data-toggle=tooltip data-placement=top title="Halia Beamer, Bio, Age, Net Worth 2022, Salary, Dating, Boyfriend, Height">Next Post &rarr;</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">All rights reserved
&nbsp;&bull;&nbsp;&copy;
2024
&nbsp;&bull;&nbsp;
<a href=./>VBlogX</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.98.0</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script>
<script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://assets.cdnweb.info/hugo/bh/js/main.js></script>
<script src=https://assets.cdnweb.info/hugo/bh/js/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://assets.cdnweb.info/hugo/bh/js/load-photoswipe.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>