<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><title>How to Use the ip Command on Linux - VBlogX</title><meta name=description content="You can configure IP addresses, network interfaces, and routing rules on the fly with the Linux ip command. We'll show you how you can use this modern replacement of the classic (and now deprecated) ifconfig ."><meta name=author content="Some Person"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"VBlogX","url":"\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"\/how-to-use-the-ip-command-on-linux.html","name":"How to use the IP command on linux"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Jenniffer Sheldon"},"headline":"How to Use the ip Command on Linux","description":"You can configure IP addresses, network interfaces, and routing rules on the fly with the Linux ip command. We\u0027ll show you how you can use this modern replacement of the classic (and now deprecated) ifconfig .","inLanguage":"en","wordCount":2524,"datePublished":"2024-04-03T00:00:00","dateModified":"2024-04-03T00:00:00","image":"\/img\/avatar-icon.png","keywords":[""],"mainEntityOfPage":"\/how-to-use-the-ip-command-on-linux.html","publisher":{"@type":"Organization","name":"\/","logo":{"@type":"ImageObject","url":"\/img\/avatar-icon.png","height":60,"width":60}}}</script><meta property="og:title" content="How to Use the ip Command on Linux"><meta property="og:description" content="You can configure IP addresses, network interfaces, and routing rules on the fly with the Linux ip command. We'll show you how you can use this modern replacement of the classic (and now deprecated) ifconfig ."><meta property="og:image" content="/img/avatar-icon.png"><meta property="og:url" content="/how-to-use-the-ip-command-on-linux.html"><meta property="og:type" content="website"><meta property="og:site_name" content="VBlogX"><meta name=twitter:title content="How to Use the ip Command on Linux"><meta name=twitter:description content="You can configure IP addresses, network interfaces, and routing rules on the fly with the Linux ip command. We'll show you how you can use this modern replacement of the classic (and now deprecated) …"><meta name=twitter:image content="/img/avatar-icon.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@username"><meta name=twitter:creator content="@username"><link href=./img/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.98.0"><link rel=alternate href=./index.xml type=application/rss+xml title=VBlogX><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/highlight.min.css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/bh/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>How to Use the ip Command on Linux</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on April 3, 2024
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;12&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;2524&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Jenniffer Sheldon</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><h3>Quick Links</h3><ul class=table-content-level-1><li><a href=#>How the ip Command Works</a></li></ul><ul class=table-content-level-1><li><a href=#>Using ip with Addresses</a></li></ul><ul class=table-content-level-1><li><a href=#>Display Only IPv4 or IPv6 Addresses</a></li></ul><ul class=table-content-level-1><li><a href=#>Display Information for a Single Interface</a></li></ul><ul class=table-content-level-1><li><a href=#>Adding an IP Address</a></li></ul><ul class=table-content-level-1><li><a href=#>Deleting an IP Address</a></li></ul><ul class=table-content-level-1><li><a href=#>Using ip with Network Interfaces</a></li></ul><ul class=table-content-level-1><li><a href=#>Starting and Stopping Links</a></li></ul><ul class=table-content-level-1><li><a href=#>Using ip with Routes</a></li></ul><ul class=table-content-level-1><li><a href=#>Display Information for a Single Route</a></li></ul><ul class=table-content-level-1><li><a href=#>Adding a Route</a></li></ul><ul class=table-content-level-1><li><a href=#>Taken Route, Not Taken Root</a></li></ul><h3 class="title icon i-list">Key Takeaways</h3><ul><li>The ip command has replaced the older ifconfig command in modern versions of Linux.</li><li>The ip command allows you to configure IP addresses, network interfaces, and routing rules on the fly without rebooting.</li><li>Run "ip addr" in the Terminal to get your PC's local IP address.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You can configure IP addresses, network interfaces, and routing rules on the fly with the Linux <code>ip</code> command. We'll show you how you can use this modern replacement of the classic (and now deprecated) <code>ifconfig</code> .</p><h2 id=how-the-ip-command-works>How the ip Command Works</h2><p>With the <code>ip</code> command, you can <a href=#>adjust the way a Linux computer</a> handles IP addresses, <a href=#>network interfaces controllers</a> (NICs), and <a href=#>routing rules</a>. The changes also take immediate effect — you don't have to reboot. The <code>ip</code> command can do a lot more than this, but we'll focus on the most common uses in this article.</p><p>The <code>ip</code> command has many subcommands, each of which works on a type of object, such as IP addresses and routes. There are, in turn, many options for each of these objects. It's this richness of functionality that gives the <code>ip</code> command the granularity you need to perform what can be delicate tasks. This isn't ax work — it calls for a set of scalpels.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>We'll look at the following objects:</p><ul><li><strong>Address</strong>: IP addresses and ranges.</li><li><strong>Link</strong>: Network interfaces, such as wired connections and Wi-Fi adapters.</li><li><strong>Route</strong>: The rules that manage the routing of traffic sent to <code>addresses</code> via interfaces (<code>links</code> ).</li></ul><h2 id=using-ip-with-addresses>Using ip with Addresses</h2><p>Obviously, you first have to know the settings you're dealing with. To discover which IP addresses your computer has, you use the <code>ip</code> command with the object <code>address</code>. The default action is <code>show</code>, which lists the IP addresses. You can also omit <code>show</code> and abbreviate <code>address</code> as "addr" or even "a."</p><p>The following commands are all equivalent:</p><pre>ip address show</pre><pre>ip addr show</pre><pre>ip addr</pre><pre>ip a</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/1-8.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>We see two IP addresses, along with a lot of other information. IP addresses are associated with network interface controllers (NICs). The <code>ip</code> command tries to be helpful and provides a bunch of information about the interface, too.</p><p>The first IP address is the (internal) loopback address used to communicate within the computer. The second is the actual (external) IP address the computer has on the local area network (LAN).</p><p>Let's break down all the information we received:</p><ul><li><strong>lo</strong>: The network interface name as a string.</li><li><strong>&lt;LOOPBACK,UP,LOWER_UP>:</strong> This is a loopback interface. It's <code>UP</code>, meaning it's operational. The <a href=#>physical networking layer</a> (layer one) is also up.</li><li><strong>mtu 65536:</strong> The maximum transfer unit. This is the size of the largest chunk of data this interface can transmit.</li><li><strong>qdisc noqueue:</strong> A <code>qdisc</code> is a queuing mechanism. It schedules the transmission of packets. There are different queuing techniques called disciplines. The <code>noqueue</code> discipline means "send instantly, don't queue." This is the default <code>qdisc</code> discipline for virtual devices, such as the loopback address.</li><li><strong>state UNKNOWN:</strong> This can be <code>DOWN</code> (the network interface is not operational), <code>UNKNOWN</code> (the network interface is operational but nothing is connected), or <code>UP</code> (the network is operational and there is a connection).</li><li><strong>group default:</strong> Interfaces can be grouped logically. The default is to place them all in a group called "default."</li><li><strong>qlen 1000:</strong> The maximum length of the transmission queue.</li><li><strong>link/loopback:</strong> The <a href=#>media access control</a> (MAC) address of the interface.</li><li><strong>inet 127.0.0.1/8:</strong> The IP version 4 address. The part of the address after the forward-slash (<code>/</code>) is <a href=#>Classless Inter-Domain Routing notation</a> (CIDR) representing the subnet mask. It indicates how many leading contiguous bits are set to one in the subnet mask. The value of eight means eight bits. Eight bits set to one represents 255 in binary, so the subnet mask is 255.0.0.0.</li><li><strong>scope host:</strong> The IP address scope. This IP address is only valid inside the computer (the "host").</li><li><strong>lo:</strong> The interface with which this IP address is associated.</li><li><strong>valid_lft:</strong> Valid lifetime. For an IP version 4 IP address allocated by <a href=#>Dynamic Host Configuration Protocol</a> (DHCP), this is the length of time the IP address is considered valid and able to make and accept connection requests.</li><li><strong>preferred_lft:</strong> Preferred lifetime. For an IP version 4 IP address allocated by DHCP, this is the amount of time the IP address can be used with no restrictions. This should never be larger than the <code>valid_lft</code> value.</li><li><strong>inet6</strong>: The IP version 6 address, <code>scope</code> , <code>valid_lft</code>, and <code>preferred_lft</code>.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The physical interface is more interesting, as we'll show below:</p><ul><li><strong>enp0s3:</strong> The network interface name as a string. The "en" stands for ethernet, "p0" is the bus number of the ethernet card, and "s3" is the slot number.</li><li><strong>&lt;BROADCAST,MULTICAST,UP,LOWER_UP>:</strong> This interface supports <a href=#>broad-</a> and <a href=#>multicasting</a>, and the interface is <code>UP</code> (operational and connected). The hardware layer of the network (layer one) is also <code>UP</code>.</li><li><strong>mtu 1500:</strong> The maximum transfer unit this interface supports.</li><li><strong>qdisc fq_codel:</strong> The scheduler is using a discipline called "Fair Queuing, Controlled Delay." It's designed to provide a fair share of the bandwidth to all the traffic flows that use the queue.</li><li><strong>state UP:</strong> The interface is operational and connected.</li><li><strong>group default:</strong> This interface is in the "default" interface group.</li><li><strong>qlen 1000:</strong> The maximum length of the transmission queue.</li><li><strong>link/ether:</strong> The MAC address of the interface.</li><li><strong>inet 192.168.4.26/24:</strong> The IP version 4 address. The "/24" tells us there are 24 contiguous leading bits set to one in the subnet mask. That's three groups of eight bits. An eight-bit binary number equates to 255; therefore, the subnet mask is 255.255.255.0.</li><li><strong>brd 192.168.4.255:</strong> The <a href=#>broadcast address</a> for this subnet.</li><li><strong>scope global:</strong> The IP address is valid everywhere on this network.</li><li><strong>dynamic:</strong> The IP address is lost when the interface goes down.</li><li><strong>noprefixroute:</strong> Do not create a route in the route table when this IP address is added. Someone has to add a route manually if he wants to use one with this IP address. Likewise, if this IP address is deleted, don't look for a route to delete.</li><li><strong>enp0s3:</strong> The interface with which this IP address is associated.</li><li><strong>valid_lft:</strong> Valid lifetime. The time the IP address will be considered valid; 86,240 seconds is 23 hours and 57 minutes.</li><li><strong>preferred_lft:</strong> Preferred lifetime. The time the IP address will operate without any restrictions.</li><li><strong>inet6:</strong> The IP version 6 address, <code>scope</code>, <code>valid_lft</code>, and <code>preferred_lft</code>.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=display-only-ipv4-or-ipv6-addresses>Display Only IPv4 or IPv6 Addresses</h2><p>If you want to limit the output to the IP version 4 addresses, you can use the <code>-4</code> option, as follows:</p><pre>ip -4 addr</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/2-6.png><p>If you want to limit the output to the IP version 6 addresses, you can use the <code>-6</code> option, as follows:</p><pre>ip -6 addr</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/3-9.png><h2 id=display-information-for-a-single-interface>Display Information for a Single Interface</h2><p>If you want to see the IP address information for a single interface, you can use the <code>show</code> and <code>dev</code> options, and name the interface, as shown below:</p><pre>ip addr show dev lo</pre><pre>ip addr show dev enp0s3</pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/4-5.png><p>You can also use the <code>-4</code> or <code>-6</code> flag to further refine the output so you only see that in which you're interested.</p><p>If you want to see the IP version 4 information related to the addresses on interface <code>enp0s3</code>, type the following command:</p><pre>ip -4 addr show dev enp0s3</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/5-4.png><h2 id=adding-an-ip-address>Adding an IP Address</h2><p>You can use the <code>add</code> and <code>dev</code> options to add an IP address to an interface. You just have to tell the <code>ip</code> command which IP address to add, and to which interface to add it.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>We're going to add the IP address 192.168.4.44 to the <code>enp0s3</code> interface. We also have to provide the CIDR notation for the subnet mask.</p><p>We type the following:</p><pre>sudo ip addr add 192.168.4.44/24 dev enp0s3</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/6-5.png><p>We type the following to take another look at the IP version 4 IP addresses on this interface:</p><pre>ip -4 addr show dev enp0s3</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/7-4.png><p>The new IP address is present on this network interface. We jump on another computer and use the following command to see if we can <a href=#><code>ping</code> the new IP address</a>:</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre>ping 192.168.4.44</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/7a.png><p>The IP address responds and sends back acknowledgments to the pings. Our new IP address is up and running after one simple <code>ip</code> command.</p><h2 id=deleting-an-ip-address>Deleting an IP Address</h2><p>To delete an IP address, the command is almost the same as the one to add one, except you replace <code>add</code> with <code>del</code>, as shown below:</p><pre>sudo ip addr del 192.168.4.44/24 dev enp0s3</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/8-3.png><p>If we type the following to check, we see the new IP address has been deleted:</p><pre>ip -4 addr show dev enp0s3</pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/9-3.png><h2 id=using-ip-with-network-interfaces>Using ip with Network Interfaces</h2><p>You use the <code>link</code> object to inspect and work with network interfaces. Type the following command to see the interfaces installed on your computer:</p><pre>ip link show</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/10-3.png><p>To see a single network interface, just add its name to the command, as shown below:</p><pre>ip link show enp0s3</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/11-4.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=starting-and-stopping-links>Starting and Stopping Links</h2><p>You can use the <code>set</code> option with either <code>up</code> or <code>down</code> to stop or start a network interface option. You also have to use <code>sudo</code>, as shown below:</p><pre>sudo ip link set enp0s3 down</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/12-4.png><p>We type the following to take a look at the network interface:</p><pre>ip link show enp0s3</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/13-2.png><p>The state of the network interface is <code>DOWN</code>. We can use the <code>up</code> option to restart a network interface, as shown below:</p><pre>sudo ip link set enp0s3 up</pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/14-4.png><p>We type the following to do another quick check on the state of the network interface:</p><pre>ip link show enp0s3</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/15-3.png><p>The network interface was restarted, and the state is shown as <code>UP</code>.</p><h2 id=using-ip-with-routes>Using ip with Routes</h2><p>With the <code>route</code> object, you can inspect and manipulate routes. Routes define to where network traffic to different IP addresses is forwarded, and through which network interface.</p><p>If the destination computer or device shares a network with the sending computer, the sending computer can forward the packet directly to it.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>However, if the destination device is not directly connected, the sending computer forwards the packet to the default router. The router then decides where to send the packet.</p><p>To see the routes defined on your computer, type the following command:</p><pre>ip route</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/16-4.png><p>Let's take a look at the info we received:</p><ul><li><strong>default:</strong> The default rule. This route is used if none of the other rules match what's being sent.</li><li><strong>via 192.168.4.1:</strong> Routes the packets via the device at 192.168.4.1. This is the IP address of the default router on this network.</li><li><strong>dev enp0s3:</strong> Use this network interface to send the packets to the router.</li><li><strong>proto </strong><strong>dhcp:</strong> The routing protocol identifier. DHCP means the routes will be determined dynamically.</li><li><strong>metric 100:</strong> An indication of the preference of the route compared to others. Routes with lower metrics are preferentially used over those with higher metrics. You can use this to give preference to a wired network interface over a Wi-Fi one.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The second route governs traffic to the IP range of 169.254.0.0/16. This is a <a href=#>zero-configuration network</a>, which means it tries to self-configure for intranet communication. However, you can't use it to send packets outside the immediate network.</p><p>The principle behind zero-configuration networks is they don't rely on DHCP and other services being present and active. They only <a href=#>need to see TCP/IP</a> in order to self-identify to each of the other devices on the network.</p><p>Let's take a look:</p><ul><li><strong>169.254.0.0/16:</strong> The range of IP addresses this routing rule governs. If the computer communicates on this IP range, this rule cuts in.</li><li><strong>dev enp0s3:</strong> The network interface the traffic governed by this route will use.</li><li><strong>scope link</strong>: The scope is <code>link</code>, which means the scope is limited to the network to which this computer is directly connected.</li><li><strong>metric 1000</strong>: This is a high metric and isn't a preferred route.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The third route governs traffic to the IP address range of 192.168.4.0/24. This is the IP address range of the local network to which this computer is connected. It's for communication across, but within, that network.</p><p>Let's break it down:</p><ul><li><strong>192.168.4.1/24:</strong> The range of IP addresses this routing rule governs. If the computer communicates within this IP range, this rule triggers and controls the packet routing.</li><li><strong>dev enp0s3:</strong> The interface through which this route will send packets.</li><li><strong>proto kernel:</strong> The route created by the kernel during auto-configuration.</li><li><strong>scope link:</strong> The scope is <code>link</code>, which means the scope is limited to the immediate network to which this computer is connected.</li><li><strong>src 192.168.4.26:</strong> The IP address from which packets sent by this route originate.</li><li><strong>metric 100:</strong> This low metric indicates a preferred route.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=display-information-for-a-single-route>Display Information for a Single Route</h2><p>If you want to focus on the details of a particular route, you can add the <code>list</code> option and IP address range of the route to the command as follows:</p><pre>ip route list 192.168.4.0/24</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/17-1.png><h2 id=adding-a-route>Adding a Route</h2><p>We just added a new network interface card to this computer. We type the following and see it's showing up as <code>enp0s8</code>:</p><pre>ip link show</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/18-2.png><p>We'll add a new route to the computer to use this new interface. First, we type the following to associate an IP address with the interface:</p><pre>sudo ip addr add 192.168.121.1/24 dev enp0s8</pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/19-1.png><p>A default route using the existing IP address is added to the new interface. We use the <code>delete</code> option, as shown below, to delete the route and provide its details:</p><pre>sudo ip route delete default via 192.168.4.1 dev enp0s8</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/20-2.png><p>We'll now use the <code>add</code> option to add our new route. The new interface will handle network traffic in the 192.168.121.0/24 IP address range. We'll give it a metric of 100; because it will be the only route handling this traffic, the metric is pretty much academic.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>We type the following:</p><pre>sudo ip route add 192.168.121.0/24 dev enp0s8 metric 100</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/25.png><p>Now, we type the following to see what it gives us:</p><pre>ip route</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/21-2.png><p>Our new route is now in place. However, we still have the 192.168.4.0/24 route that points to interface <code>enp0s8 </code>— we type the following to remove it:</p><pre>sudo ip route delete 192.168.4.0/24 dev enp0s8</pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/22-2.png><p>We should now have a new route that points all traffic destined for IP range 192.168.121.0/24 through interface <code>enp0s8</code>. It should also be the only route that uses our new interface.</p><p>We type the following to confirm:</p><pre>ip route</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2020/02/27.png><h2 id=taken-route-not-taken-root>Taken Route, Not Taken Root</h2><p>The great thing about these commands is they're not permanent. If you want to clear them, just reboot your system. This means you can experiment with them until they work the way you want. And it's a very good thing if you make a terrible mess of your system — a simple reboot will restore order.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>On the other hand, if you want the changes to be permanent, you have to do some more work. Exactly what varies depending on the distribution family, but they all involve changing config files.</p><p>This way, though, you can test-drive commands before you make anything permanent.</p><table border=1 cellpadding=1 cellspacing=1 align summary><tbody><tr><td></td><td style=text-align:center><p>Linux Commands</p></td></tr><tr><td><p>Files</p></td><td><p><a href=#>tar</a><strong>·</strong><a href=#>pv</a><strong>·</strong><a href=#>cat</a><strong>·</strong><a href=#>tac</a><strong>·</strong><a href=#>chmod</a><strong>·</strong><a href=#>grep</a><strong> ·</strong><a href=#>diff</a><strong>·</strong><a href=#>sed</a><strong>·</strong><a href=#>ar</a><strong>·</strong><a href=#>man</a><strong>·</strong><a href=#>pushd</a><strong>·</strong><a href=#>popd</a><strong>·</strong><a href=#>fsck</a><strong>·</strong><a href=#>testdisk</a><strong>·</strong><a href=#>seq</a><strong>·</strong><a href=#>fd</a><strong>·</strong><a href=#>pandoc</a><strong>·</strong><a href=#>cd</a><strong>·</strong><a href=#>$PATH</a><strong>·</strong><a href=#>awk</a><strong>·</strong><a href=#>join</a><strong>·</strong><a href=#>jq</a><strong>·</strong><a href=#>fold</a><strong>·</strong><a href=#>uniq</a><strong>·</strong><a href=#>journalctl</a><strong>·</strong><a href=#>tail</a><strong>·</strong><a href=#>stat</a><strong>·</strong><a href=#>ls</a><strong>·</strong><a href=#>fstab</a><strong>·</strong><a href=#>echo</a><strong>·</strong><a href=#>less</a><strong>·</strong><a href=#>chgrp</a><strong>·</strong><a href=#>chown</a><strong>·</strong><a href=#>rev</a><strong>·</strong><a href=#>look</a><strong>·</strong><a href=#>strings</a><strong>·</strong><a href=#>type</a><strong>·</strong><a href=#>rename</a><strong>·</strong><a href=#>zip</a><strong>·</strong><a href=#>unzip</a><strong>·</strong><a href=#>mount</a><strong>·</strong><a href=#>umount</a><strong>·</strong><a href=#>install</a><strong>·</strong><a href=#>fdisk</a><strong>·</strong><a href=#>mkfs</a><strong>·</strong><a href=#>rm</a><strong>·</strong><a href=#>rmdir</a><strong>·</strong><a href=#>rsync</a><strong>·</strong><a href=#>df</a><strong>·</strong><a href=#>gpg</a><strong>·</strong><a href=#>vi</a><strong>·</strong><a href=#>nano</a><strong>·</strong><a href=#>mkdir</a><strong>·</strong><a href=#>du</a><strong>·</strong><a href=#>ln</a><strong>·</strong><a href=#>patch</a><strong>·</strong><a href=#>convert</a><strong>·</strong><a href=#>rclone</a><strong>·</strong><a href=#>shred</a><strong>·</strong><a href=#>srm</a><strong>·</strong><a href=#>scp</a><strong>·</strong><a href=#>gzip</a><strong>·</strong><a href=#>chattr</a><strong>·</strong><a href=#>cut</a><strong>·</strong><a href=#>find</a><strong>·</strong><a href=#>umask</a><strong>·</strong><a href=#>wc</a><strong>· </strong><a href=#>tr</a></p></td><td></td></tr><tr><td><p>Processes</p></td><td><p><a href=#>alias</a><strong>·</strong><a href=#>screen</a><strong>·</strong><a href=#>top</a><strong>·</strong><a href=#>nice</a><strong>·</strong><a href=#>renice</a><strong>·</strong><a href=#>progress</a><strong>·</strong><a href=#>strace</a><strong>·</strong><a href=#>systemd</a><strong>·</strong><a href=#>tmux</a><strong>·</strong><a href=#>chsh</a><strong>·</strong><a href=#>history</a><strong>·</strong><a href=#>at</a><strong>·</strong><a href=#>batch</a><strong>·</strong><a href=#>free</a><strong>·</strong><a href=#>which</a><strong>·</strong><a href=#>dmesg</a><strong>·</strong><a href=#>chfn</a><strong>·</strong><a href=#>usermod</a><strong>·</strong><a href=#>ps</a><strong>·</strong><a href=#>chroot</a><strong>·</strong><a href=#>xargs</a><strong>·</strong><a href=#>tty</a><strong>·</strong><a href=#>pinky</a><strong>·</strong><a href=#>lsof</a><strong>·</strong><a href=#>vmstat</a><strong>·</strong><a href=#>timeout</a><strong>·</strong><a href=#>wall</a><strong>·</strong><a href=#>yes</a><strong>·</strong><a href=#>kill</a><strong>·</strong><a href=#>sleep</a><strong>·</strong><a href=#>sudo</a><strong>·</strong><a href=#>su</a><strong>·</strong><a href=#>time</a><strong>·</strong><a href=#>groupadd</a><strong>·</strong><a href=#>usermod</a><strong>·</strong><a href=#>groups</a><strong>·</strong><a href=#>lshw</a><strong>·</strong><a href=#>shutdown</a><strong>·</strong><a href=#>reboot</a><strong>·</strong><a href=#>halt</a><strong>·</strong><a href=#>poweroff</a><strong>·</strong><a href=#>passwd</a><strong>·</strong><a href=#>lscpu</a><strong>·</strong><a href=#>crontab</a><strong>·</strong><a href=#>date</a><strong>·</strong><a href=#>bg</a><strong>·</strong><a href=#>fg</a><strong>·</strong><a href=#>pidof</a><strong>·</strong><a href=#>nohup</a><strong>·</strong><a href=#>pmap</a></p></td><td></td></tr><tr><td><p>Networking</p></td><td><p><a href=#>netstat</a><strong>·</strong><a href=#>ping</a><strong>·</strong><a href=#>traceroute</a><strong>·</strong><a href=#>ip</a><strong>·</strong><a href=#>ss</a><strong>·</strong><a href=#>whois</a><strong>·</strong><a href=#>fail2ban</a><strong>·</strong><a href=#>bmon</a><strong>·</strong><a href=#>dig</a><strong>·</strong><a href=#>finger</a><strong>·</strong><a href=#>nmap</a><strong>·</strong><a href=#>ftp</a><strong>·</strong><a href=#>curl</a><strong>·</strong><a href=#>wget</a><strong>·</strong><a href=#>who</a><strong>·</strong><a href=#>whoami</a><strong>·</strong><a href=#>w</a><strong>·</strong><a href=#>iptables</a><strong>·</strong><a href=#>ssh-keygen</a><strong>·</strong><a href=#>ufw</a><strong>·</strong><a href=#>arping</a><strong>·</strong><a href=#>firewalld</a></p></td><td></td></tr></tbody></table><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7qbvWraagnZWge6S7zGhtbm9pZn5wtM6wZK2nXarApnnToZxmoaBisLC5zJqlnWWfo3qttc2ur2g%3D</p><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=%2fhow-to-use-the-ip-command-on-linux.html&text=How%20to%20Use%20the%20ip%20Command%20on%20Linux&via=username" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=%2fhow-to-use-the-ip-command-on-linux.html" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=%2fhow-to-use-the-ip-command-on-linux.html&title=How%20to%20Use%20the%20ip%20Command%20on%20Linux" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=%2fhow-to-use-the-ip-command-on-linux.html&title=How%20to%20Use%20the%20ip%20Command%20on%20Linux" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=%2fhow-to-use-the-ip-command-on-linux.html&title=How%20to%20Use%20the%20ip%20Command%20on%20Linux" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=%2fhow-to-use-the-ip-command-on-linux.html&description=How%20to%20Use%20the%20ip%20Command%20on%20Linux" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=./from-scratch-netflix-viewers-saying-same-thing-zoe-saldana-series.html data-toggle=tooltip data-placement=top title="Netflix's From Scratch: Viewers saying same thing about new Zoe Saldana series">&larr; Previous Post</a></li><li class=next><a href=./celebrities-who-did-porn.html data-toggle=tooltip data-placement=top title="Celebrities Who Did Porn">Next Post &rarr;</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">All rights reserved
&nbsp;&bull;&nbsp;&copy;
2024
&nbsp;&bull;&nbsp;
<a href=./>VBlogX</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.98.0</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script>
<script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://assets.cdnweb.info/hugo/bh/js/main.js></script>
<script src=https://assets.cdnweb.info/hugo/bh/js/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://assets.cdnweb.info/hugo/bh/js/load-photoswipe.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>